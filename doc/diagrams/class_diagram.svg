<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1231px" preserveAspectRatio="none" style="width:888px;height:1231px;background:#FFFFFF;" version="1.1" viewBox="0 0 888 1231" width="888px" zoomAndPan="magnify"><defs/><g><!--class McpServer--><g id="elem_McpServer"><rect codeLine="2" fill="#F1F1F1" height="80.9766" id="McpServer" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149" x="465" y="7"/><ellipse cx="500.7" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M503.1731,29.1431 Q502.5921,29.4419 501.9529,29.5913 Q501.3138,29.7407 500.6082,29.7407 Q498.1014,29.7407 496.7815,28.0889 Q495.4617,26.437 495.4617,23.3159 Q495.4617,20.1865 496.7815,18.5347 Q498.1014,16.8828 500.6082,16.8828 Q501.3138,16.8828 501.9612,17.0322 Q502.6087,17.1816 503.1731,17.4805 L503.1731,20.2031 Q502.5423,19.6221 501.9488,19.3523 Q501.3553,19.0825 500.7244,19.0825 Q499.3797,19.0825 498.6949,20.1492 Q498.0101,21.2158 498.0101,23.3159 Q498.0101,25.4077 498.6949,26.4744 Q499.3797,27.541 500.7244,27.541 Q501.3553,27.541 501.9488,27.2712 Q502.5423,27.0015 503.1731,26.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="519.3" y="28.291">McpServer</text><line style="stroke:#181818;stroke-width:0.5;" x1="466" x2="613" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="466" x2="613" y1="47" y2="47"/><ellipse cx="476" cy="60.7441" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="485" y="64.5352">createMcpServer()</text><ellipse cx="476" cy="77.2324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="485" y="81.0234">registerTool()</text></g><!--class IParser--><g id="elem_IParser"><rect codeLine="7" fill="#F1F1F1" height="64.4883" id="IParser" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="373" x="163" y="645.81"/><ellipse cx="321.75" cy="661.81" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M318.1777,658.0751 L318.1777,655.9169 L325.5571,655.9169 L325.5571,658.0751 L323.0918,658.0751 L323.0918,666.1518 L325.5571,666.1518 L325.5571,668.31 L318.1777,668.31 L318.1777,666.1518 L320.6431,666.1518 L320.6431,658.0751 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="47" x="342.25" y="667.101">IParser</text><line style="stroke:#181818;stroke-width:0.5;" x1="164" x2="535" y1="677.81" y2="677.81"/><line style="stroke:#181818;stroke-width:0.5;" x1="164" x2="535" y1="685.81" y2="685.81"/><ellipse cx="174" cy="699.5541" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="347" x="183" y="703.3452">parseFile(filePath: string): Promise&lt;CodeChunk[]&gt;</text></g><!--class ParserFactory--><g id="elem_ParserFactory"><rect codeLine="11" fill="#F1F1F1" height="97.4648" id="ParserFactory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="428" x="188.5" y="471.34"/><ellipse cx="351.75" cy="487.34" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M354.2231,493.4831 Q353.6421,493.7819 353.0029,493.9313 Q352.3638,494.0807 351.6582,494.0807 Q349.1514,494.0807 347.8315,492.4289 Q346.5117,490.777 346.5117,487.6559 Q346.5117,484.5265 347.8315,482.8747 Q349.1514,481.2228 351.6582,481.2228 Q352.3638,481.2228 353.0112,481.3722 Q353.6587,481.5216 354.2231,481.8205 L354.2231,484.5431 Q353.5923,483.9621 352.9988,483.6923 Q352.4053,483.4225 351.7744,483.4225 Q350.4297,483.4225 349.7449,484.4892 Q349.0601,485.5558 349.0601,487.6559 Q349.0601,489.7477 349.7449,490.8144 Q350.4297,491.881 351.7744,491.881 Q352.4053,491.881 352.9988,491.6112 Q353.5923,491.3415 354.2231,490.7604 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="372.25" y="492.631">ParserFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="189.5" x2="615.5" y1="503.34" y2="503.34"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="196.5" y="514.0841"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245" x="208.5" y="520.8752">static parsers: Map&lt;string, IParser&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="189.5" x2="615.5" y1="527.8283" y2="527.8283"/><ellipse cx="199.5" cy="541.5724" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="402" x="208.5" y="545.3634">static registerParser(language: string, parser: IParser): void</text><ellipse cx="199.5" cy="558.0607" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282" x="208.5" y="561.8517">static getParser(language: string): IParser</text></g><!--class AnalysisService--><g id="elem_AnalysisService"><rect codeLine="17" fill="#F1F1F1" height="229.3711" id="AnalysisService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="683" x="198" y="164.97"/><ellipse cx="483.25" cy="180.97" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M485.7231,187.1131 Q485.1421,187.4119 484.5029,187.5613 Q483.8638,187.7107 483.1582,187.7107 Q480.6514,187.7107 479.3315,186.0589 Q478.0117,184.407 478.0117,181.2859 Q478.0117,178.1565 479.3315,176.5047 Q480.6514,174.8528 483.1582,174.8528 Q483.8638,174.8528 484.5112,175.0022 Q485.1587,175.1516 485.7231,175.4505 L485.7231,178.1731 Q485.0923,177.5921 484.4988,177.3223 Q483.9053,177.0525 483.2744,177.0525 Q481.9297,177.0525 481.2449,178.1192 Q480.5601,179.1858 480.5601,181.2859 Q480.5601,183.3777 481.2449,184.4444 Q481.9297,185.511 483.2744,185.511 Q483.9053,185.511 484.4988,185.2412 Q485.0923,184.9715 485.7231,184.3904 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="503.75" y="186.261">AnalysisService</text><line style="stroke:#181818;stroke-width:0.5;" x1="199" x2="880" y1="196.97" y2="196.97"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="206" y="207.7141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="299" x="218" y="214.5052">parsedProjects: Map&lt;string, CodeChunk[]&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="206" y="224.2024"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="218" y="230.9934">chunksDir: string</text><line style="stroke:#181818;stroke-width:0.5;" x1="199" x2="880" y1="237.9466" y2="237.9466"/><ellipse cx="209" cy="251.6907" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="218" y="255.4817">constructor(chunksDir: string)</text><ellipse cx="209" cy="268.179" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="349" x="218" y="271.97">analyzeProject(projectPath: string): Promise&lt;void&gt;</text><ellipse cx="209" cy="284.6673" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="422" x="218" y="288.4583">getChunk(chunkId: string): Promise&lt;{ content: string } | null&gt;</text><ellipse cx="209" cy="301.1555" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="459" x="218" y="304.9466">listFunctionsInFile(filePath: string): Promise&lt;{ signature: string }[]&gt;</text><ellipse cx="209" cy="317.6438" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="657" x="218" y="321.4348">getFunctionChunk(filePath: string, functionSignature: string): Promise&lt;{ content: string } | null&gt;</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="206" y="331.1321"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="357" x="218" y="337.9231">getSwiftFiles(projectPath: string): Promise&lt;string[]&gt;</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="206" y="347.6204"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="330" x="218" y="354.4114">saveChunk(chunk: CodeChunk): Promise&lt;void&gt;</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="206" y="364.1087"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="430" x="218" y="370.8997">loadChunk(chunkId: string): Promise&lt;{ content: string } | null&gt;</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="206" y="380.597"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250" x="218" y="387.388">toSafeFileName(name: string): string</text></g><!--class SwiftParser--><g id="elem_SwiftParser"><rect codeLine="31" fill="#F1F1F1" height="113.9531" id="SwiftParser" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="615" x="7" y="787.3"/><ellipse cx="272.25" cy="803.3" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M274.7231,809.4431 Q274.1421,809.7419 273.5029,809.8913 Q272.8638,810.0407 272.1582,810.0407 Q269.6514,810.0407 268.3315,808.3889 Q267.0117,806.737 267.0117,803.6159 Q267.0117,800.4865 268.3315,798.8347 Q269.6514,797.1828 272.1582,797.1828 Q272.8638,797.1828 273.5112,797.3322 Q274.1587,797.4816 274.7231,797.7805 L274.7231,800.5031 Q274.0923,799.9221 273.4988,799.6523 Q272.9053,799.3825 272.2744,799.3825 Q270.9297,799.3825 270.2449,800.4492 Q269.5601,801.5158 269.5601,803.6159 Q269.5601,805.7077 270.2449,806.7744 Q270.9297,807.841 272.2744,807.841 Q272.9053,807.841 273.4988,807.5712 Q274.0923,807.3015 274.7231,806.7204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="292.75" y="808.591">SwiftParser</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="621" y1="819.3" y2="819.3"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="621" y1="827.3" y2="827.3"/><ellipse cx="18" cy="841.0441" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="444" x="27" y="844.8352">constructor(execFn: ExecFunction, readFileFn: ReadFileFunction)</text><ellipse cx="18" cy="857.5324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="347" x="27" y="861.3234">parseFile(filePath: string): Promise&lt;CodeChunk[]&gt;</text><ellipse cx="18" cy="874.0207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="589" x="27" y="877.8117">getFunctionContent(filePath: string, functionSignature: string): Promise&lt;string | null&gt;</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="887.509"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="462" x="27" y="894.3">getLineNumber(filePath: string, offset: number): Promise&lt;number&gt;</text></g><!--class CodeChunk--><g id="elem_CodeChunk"><rect codeLine="38" fill="#F1F1F1" height="245.8594" id="CodeChunk" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="429" y="978.25"/><ellipse cx="453" cy="994.25" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M449.4277,990.5151 L449.4277,988.3569 L456.8071,988.3569 L456.8071,990.5151 L454.3418,990.5151 L454.3418,998.5918 L456.8071,998.5918 L456.8071,1000.75 L449.4277,1000.75 L449.4277,998.5918 L451.8931,998.5918 L451.8931,990.5151 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="81" x="469" y="999.541">CodeChunk</text><line style="stroke:#181818;stroke-width:0.5;" x1="430" x2="561" y1="1010.25" y2="1010.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="435" y="1027.7852">id: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="435" y="1044.2734">name: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="435" y="1060.7617">signature: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="435" y="1077.25">type: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="435" y="1093.7383">content: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="435" y="1110.2266">filePath: string</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="435" y="1126.7148">startLine: number</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="435" y="1143.2031">endLine: number</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="435" y="1159.6914">offset: number</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="435" y="1176.1797">length: number</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="435" y="1192.668">calls: string[]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="435" y="1209.1563">children?: any[]</text><line style="stroke:#181818;stroke-width:0.5;" x1="430" x2="561" y1="1216.1094" y2="1216.1094"/></g><!--link McpServer to AnalysisService--><g id="link_McpServer_AnalysisService"><path codeLine="53" d="M539.5,88.32 C539.5,109.67 539.5,131.19 539.5,158.63 " fill="none" id="McpServer-to-AnalysisService" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="539.5,164.63,543.5,155.63,539.5,159.63,535.5,155.63,539.5,164.63" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="540.5" y="131.5384">uses</text></g><!--link AnalysisService to ParserFactory--><g id="link_AnalysisService_ParserFactory"><path codeLine="54" d="M474.01,394.63 C458.53,421.57 445.839,443.6575 433.119,465.7975 " fill="none" id="AnalysisService-to-ParserFactory" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="430.13,471,438.0818,465.1889,432.6208,466.6646,431.1451,461.2036,430.13,471" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="455.7" y="437.9084">uses</text></g><!--link ParserFactory to IParser--><g id="link_ParserFactory_IParser"><path codeLine="55" d="M386.17,569.15 C377.71,594.03 369.5608,618.0291 362.1108,639.9491 " fill="none" id="ParserFactory-to-IParser" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="360.18,645.63,366.8634,638.3959,361.789,640.896,359.2889,635.8215,360.18,645.63" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="377" y="612.3784">&#171;creates&#187;</text></g><!--reverse link IParser to SwiftParser--><g id="link_IParser_SwiftParser"><path codeLine="56" d="M338.9963,728.3242 C334.3863,749.9442 331.91,761.58 326.47,787.1 " fill="none" id="IParser-backto-SwiftParser" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="342.75,710.72,333.1282,727.073,344.8644,729.5755,342.75,710.72" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="337.16" y="753.8684">&#171;implements&#187;</text></g><!--link AnalysisService to CodeChunk--><g id="link_AnalysisService_CodeChunk"><path codeLine="57" d="M635.25,394.55 C657.84,431.88 675.5,475.12 675.5,519.08 C675.5,519.08 675.5,519.08 675.5,845.27 C675.5,926.67 617.923,996.2757 566.693,1043.2357 " fill="none" id="AnalysisService-to-CodeChunk" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="562.27,1047.29,571.6073,1044.1572,565.9558,1043.9114,566.2016,1038.2599,562.27,1047.29" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="676.5" y="683.1184">creates</text></g><!--link SwiftParser to CodeChunk--><g id="link_SwiftParser_CodeChunk"><path codeLine="58" d="M354.45,901.53 C376.2,932.17 400.2256,966.0083 425.1556,1001.1083 " fill="none" id="SwiftParser-to-CodeChunk" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="428.63,1006,426.6796,996.3462,425.7347,1001.9236,420.1573,1000.9787,428.63,1006" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="384.47" y="944.8184">creates</text></g><!--SRC=[fLNHRjiW57tFL_3eQ74-m8eyJLqZHLghQDbRrGU6hnrQZ2t0sRAq_xuB6CScZJfrBxOvNCuzzrp0J52joHrhTw0EeCXfHiWdmXHG0mEQp1sgeEBQWFhHD0AXrzcCInoMb07PRAdIm_hM3jPSG5BYOqlDFYFQA2whUKQsggcvXjLDKy3DlfFF3u-v9MDEYkTPKsOQTNHqAIwbXZFFgdH6xcYxydIBa3XtUVl08DHF9OBAggCL10sBdYaBYr7KeU75cA82SsNrV5Xs5lr5Kd7KN5kxEBhXPRii1PRx1Cn4iYV5ss1c1_ehLo6FRqGZSTHPCvAB2DyLQdF_WJvDqlht5SzjcTugBD3bzxIRuetWaqrlG9emHrx92v6T49v2eCdhJZB3KUL6ljVl4z6yajHq2iw4ldmd9r1vMJ7HWfJz_2vc-MV9gKsp-yLBOxNgTxpoGEYFfWSO6PQTE_Y6lIaH3It-pz-Kc6P7ItUCxcaDYSJ7YANV9SCUT7LDJk5uyy1lO6kPaLlxxerSu46XXUMtCz_3Tpyx_-19ZhlfI_nWFtjVeXP-unBkk_eddivBsgOiDQ2bqWMCk3oGJ- -jGRhpZ1UZqpVs6uSNcnSnSsp7mwYTYCJoB8-XobKG9286ieYGQHK8292LvHa0HeNGWVVXqI9xBWe5ydE6by8H8QpqVBClb_d5FPMHJeEUnR0DdTx3VU0Kj67Xti_8QkN_6ZhFP-EzkEpQvSiqaDUjW1gTih5nyZJDHrt9-d-Hdd1UY_aB]--></g></svg>
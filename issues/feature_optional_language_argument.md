# オプショナルな言語指定引数の追加

## 概要

MCPサーバーのパーサー機能において、言語指定の引数をオプショナルにし、指定がない場合はファイル拡張子から言語を自動判断する機能を追加します。これにより、ユーザーの利便性とツールの柔軟性を向上させます。

## 詳細

### メリット

- **柔軟性と利便性の両立**: 通常は自動判断で手間を省き、特殊なケースでは明示的な指定で対応可能。
- **既存の慣習との親和性**: 多くのツールが採用している直感的な挙動。
- **曖昧さの解消**: 複数の言語で使われる拡張子（例: `.h`）の場合でも、明示的な指定により正確なパーサーを選択可能。
- **テストの容易性**: テスト時に特定の言語のパーサーを明示的に指定できるため、テストの制御が容易。

### デメリット

- **実装の複雑さの増加**: 言語判断ロジックが多段階になる。
- **ユーザーへの挙動の明確化の必要性**: 引数と拡張子の両方が存在し、矛盾する場合の優先順位（通常は引数が優先）を明確にする必要がある。
- **エラーハンドリングの考慮**: サポートされていない言語指定や、拡張子から判断できない場合の適切なエラー処理を設計する必要がある。

### 解決方法（チェックリスト）

- [ ] `parser.ts` または関連するパーサーファクトリに、オプショナルな言語引数を追加する。
- [ ] 言語引数が指定されない場合、ファイル拡張子から適切なパーサーを判断し、選択するロジックを実装する。
- [ ] 複数の言語で使われる拡張子（例: `.h`）の曖昧さを解消するための優先順位や設定（例: 設定ファイルでのマッピング）を検討し、実装する。
- [ ] 新しい機能に対応するユニットテストを追加し、自動判断と明示的指定の両方のケースをカバーする。
- [ ] 関連するドキュメント（`doc/` ディレクトリ内のファイル、特にパーサーの利用方法に関する説明）を更新する。

## その他

この機能は、MCPサーバーの使いやすさを向上させる重要な改善です。

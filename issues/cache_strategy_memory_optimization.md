# キャッシュ戦略: メモリキャッシュの最適化とファイルキャッシュの活用

## 概要

現在のメモリキャッシュは、コードチャンクが増加するにつれてメモリを逼迫する可能性があります。この問題を解決するため、メモリキャッシュの最適化とファイルキャッシュの積極的な活用を導入します。

## 目的

- メモリ使用量を最適化し、アプリケーションの安定性を向上させる。
- 大規模なコードベースを扱う際のパフォーマンスを維持する。
- キャッシュの信頼性と効率性を高める。

## 変更内容

- **メモリキャッシュの破棄ロジック**: 適当なタイミング（例: LRU (Least Recently Used) ポリシー、一定のメモリ使用量を超えた場合など）で、メモリキャッシュ内のコードチャンクを破棄するメカニズムを導入します。
- **ファイルキャッシュからの読み込み**: メモリキャッシュに目的のコードチャンクが存在しない場合、`data/chunks/` ディレクトリに保存されているファイルキャッシュから読み込むようにします。
- **キャッシュの階層化**: メモリキャッシュとファイルキャッシュを連携させ、効率的なデータアクセスを実現します。

## タスク

- [ ] キャッシュ管理モジュールを設計・実装する。
- [ ] メモリキャッシュの破棄ロジック（LRUなど）を実装する。
- [ ] ファイルキャッシュからの読み込みロジックを実装する。
- [ ] `AnalysisService` および関連するコンポーネントが新しいキャッシュ戦略を利用するように修正する。
- [ ] キャッシュ戦略に関するテストを追加する。
- [ ] `doc/cache_strategy.md` を更新し、新しいキャッシュ戦略の詳細を記述する。
